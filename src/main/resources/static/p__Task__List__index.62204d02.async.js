"use strict";(self.webpackChunkmidjourney_proxy_pool_admin=self.webpackChunkmidjourney_proxy_pool_admin||[]).push([[502],{30505:function(Oe,A,a){a.r(A),a.d(A,{default:function(){return ce}});var K=a(15009),F=a.n(K),Y=a(99289),D=a.n(Y),Q=a(5574),c=a.n(Q),X=a(66927),w=a(90930),k=a(53025),p=a(66309),B=a(13275),b=a(83062),M=a(71230),C=a(15746),q=a(42075),_=a(15867),ee=a(11651),E=a(4393),te=a(26324),re=a(33160),m=a(67294),R={tableToolbar:"tableToolbar___H6RqJ"},ae=a(32545),se=a(75081),n=a(26412),e=a(85893),ne=function(f){var t=f.record,j=sessionStorage.getItem("mj-image-prefix")||"",x=function(r){var d="default";return r=="NOT_START"?d="default":r=="SUBMITTED"?d="lime":r=="MODAL"?d="warning":r=="IN_PROGRESS"?d="processing":r=="FAILURE"?d="error":r=="SUCCESS"&&(d="success"),(0,e.jsx)(p.Z,{color:d,children:t.displays.status})},S=function(r){var d=0;r&&r.indexOf("%")>0&&(d=parseInt(r.substring(0,r.indexOf("%"))));var Z="normal";return t.status=="SUCCESS"?Z="success":t.status=="FAILURE"&&(Z="exception"),(0,e.jsx)("div",{style:{width:200},children:(0,e.jsx)(B.Z,{percent:d,status:Z})})},u=function(r){return!r||r.length<30?r:(0,e.jsx)(b.Z,{title:r,children:r.substring(0,30)+"..."})},I=function(r){return r&&(0,e.jsx)(ae.Z,{width:200,src:j+r,placeholder:(0,e.jsx)(se.Z,{tip:"Loading",size:"large"})})},T=function(r){return r=="NIJI_JOURNEY"?(0,e.jsx)(p.Z,{color:"green",children:"niji\u30FBjourney"}):(0,e.jsx)(p.Z,{color:"blue",children:"Midjourney"})},y=function(r){if(!(r==null||!r))return(0,e.jsx)(p.Z,{color:"green",children:"\u662F"})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E.Z,{type:"inner",title:"\u57FA\u672C\u4FE1\u606F",style:{margin:"10px"},children:(0,e.jsxs)(n.Z,{column:2,children:[(0,e.jsx)(n.Z.Item,{label:"\u4EFB\u52A1ID",children:t.id}),(0,e.jsx)(n.Z.Item,{label:"\u4EFB\u52A1\u7C7B\u578B",children:t.displays.action}),(0,e.jsx)(n.Z.Item,{label:"\u4EFB\u52A1\u72B6\u6001",children:x(t.status)}),(0,e.jsx)(n.Z.Item,{label:"\u4EFB\u52A1\u8FDB\u5EA6",children:S(t.progress)}),(0,e.jsx)(n.Z.Item,{label:"\u63D0\u793A\u8BCD",children:u(t.prompt)}),(0,e.jsx)(n.Z.Item,{label:"\u63D0\u793A\u8BCD-\u82F1\u6587",children:u(t.promptEn)}),(0,e.jsx)(n.Z.Item,{label:"\u4EFB\u52A1\u63CF\u8FF0",children:u(t.description)}),(0,e.jsx)(n.Z.Item,{label:"\u63D0\u4EA4\u65F6\u95F4",children:t.displays.submitTime}),(0,e.jsx)(n.Z.Item,{label:"\u5F00\u59CB\u6267\u884C\u65F6\u95F4",children:t.displays.startTime}),(0,e.jsx)(n.Z.Item,{label:"\u7ED3\u675F\u65F6\u95F4",children:t.displays.finishTime}),(0,e.jsx)(n.Z.Item,{label:"\u5931\u8D25\u539F\u56E0",children:u(t.failReason)}),(0,e.jsx)(n.Z.Item,{label:"\u81EA\u5B9A\u4E49\u53C2\u6570",children:u(t.state)}),(0,e.jsx)(n.Z.Item,{label:"\u751F\u6210\u56FE\u7247",children:I(t.imageUrl)})]})}),(0,e.jsx)(E.Z,{type:"inner",title:"\u6269\u5C55\u4FE1\u606F",style:{margin:"10px"},children:(0,e.jsxs)(n.Z,{column:2,children:[(0,e.jsx)(n.Z.Item,{label:"bot\u7C7B\u578B",children:T(t.properties.botType)}),(0,e.jsx)(n.Z.Item,{label:"\u5B9E\u4F8BID",children:t.properties.discordInstanceId}),(0,e.jsx)(n.Z.Item,{label:"\u6D88\u606FID",children:t.properties.messageId}),(0,e.jsx)(n.Z.Item,{label:"\u52A8\u4F5CID",children:u(t.properties.customId)}),(0,e.jsx)(n.Z.Item,{label:"\u6700\u7EC8\u63D0\u793A\u8BCD",children:u(t.properties.finalPrompt)}),(0,e.jsx)(n.Z.Item,{label:"\u6700\u7EC8\u63D0\u793A\u8BCD-\u4E2D\u6587",children:u(t.properties.finalZhPrompt)}),(0,e.jsx)(n.Z.Item,{label:"Modal\u786E\u8BA4",children:y(t.properties.needModel)}),(0,e.jsx)(n.Z.Item,{label:"\u56FE\u7247seed",children:t.properties.imageSeed}),(0,e.jsx)(n.Z.Item,{label:"\u901A\u77E5\u5730\u5740",children:u(t.properties.notifyHook)})]})})]})},le=ne,ie=a(98366),ue=function(f){var t=f.title,j=f.modalVisible,x=f.hideModal,S=f.modalContent,u=f.footer,I=f.modalWidth;return(0,e.jsx)(ie.Z,{title:t,open:j,onCancel:x,footer:u,width:I,children:S})},oe=ue,de=function(){var f=(0,m.useState)([]),t=c()(f,2),j=t[0],x=t[1],S=(0,m.useState)(!1),u=c()(S,2),I=u[0],T=u[1],y=(0,m.useState)({}),g=c()(y,2),r=g[0],d=g[1],Z=(0,m.useState)(!1),O=c()(Z,2),me=O[0],U=O[1],fe=(0,m.useState)({}),P=c()(fe,2),he=P[0],N=P[1],ge=(0,m.useState)(""),z=c()(ge,2),ve=z[0],pe=z[1],je=(0,m.useState)({}),V=c()(je,2),xe=V[0],W=V[1],Se=(0,m.useState)(1e3),G=c()(Se,2),Ie=G[0],Ze=G[1],Fe=(0,m.useState)(0),$=c()(Fe,2),J=$[0],Ce=$[1],Te=k.Z.useForm(),Ee=c()(Te,1),ye=Ee[0];(0,m.useEffect)(function(){H({})},[J]);var Ae=function(){Ce(J+1)},H=function(){var o=D()(F()().mark(function s(i){var l;return F()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return T(!0),h.next=3,(0,X.Pn)(i);case 3:l=h.sent,d({total:l.totalElements,size:l.size,current:l.number+1}),x(l.content),T(!1);case 7:case"end":return h.stop()}},s)}));return function(i){return o.apply(this,arguments)}}(),De=function(){var o=D()(F()().mark(function s(i,l){return F()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:H({pageNumber:i-1,pageSize:l});case 1:case"end":return h.stop()}},s)}));return function(i,l){return o.apply(this,arguments)}}(),Be=function(){N({}),W({}),U(!1)},be=function(s,i,l,v){ye.resetFields(),pe(s),N(i),W(l),Ze(v),U(!0)},Me=[{title:"\u4EFB\u52A1ID",dataIndex:"id",width:200,align:"center",render:function(s,i){return(0,e.jsx)("a",{onClick:function(){return be("\u4EFB\u52A1\u4FE1\u606F",(0,e.jsx)(le,{record:i}),null,1100)},children:s})}},{title:"\u7C7B\u578B",dataIndex:"action",width:120,align:"center",render:function(s,i){return i.displays.action}},{title:"\u63D0\u4EA4\u65F6\u95F4",dataIndex:"submitTime",width:180,align:"center",render:function(s,i){return i.displays.submitTime}},{title:"\u72B6\u6001",dataIndex:"status",width:120,align:"center",render:function(s,i){var l="default";return s=="NOT_START"?l="default":s=="SUBMITTED"?l="lime":s=="MODAL"?l="warning":s=="IN_PROGRESS"?l="processing":s=="FAILURE"?l="error":s=="SUCCESS"&&(l="success"),(0,e.jsx)(p.Z,{color:l,children:i.displays.status})}},{title:"\u8FDB\u5EA6",dataIndex:"progress",width:130,align:"center",showInfo:!1,render:function(s,i){var l=0;s&&s.indexOf("%")>0&&(l=parseInt(s.substring(0,s.indexOf("%"))));var v="normal";return i.status=="SUCCESS"?v="success":i.status=="FAILURE"&&(v="exception"),(0,e.jsx)(B.Z,{percent:l,status:v,size:"small"})}},{title:"\u4EFB\u52A1\u63CF\u8FF0",dataIndex:"description",ellipsis:!0,render:function(s,i){return(0,e.jsx)(b.Z,{title:s,children:s})}}],Re=function(){return(0,e.jsxs)(M.Z,{children:[(0,e.jsx)(C.Z,{xs:24,sm:12}),(0,e.jsx)(C.Z,{xs:24,sm:12,className:R.tableToolbar,children:(0,e.jsx)(q.Z,{children:(0,e.jsx)(_.ZP,{onClick:Ae,icon:(0,e.jsx)(re.Z,{}),children:"\u5237\u65B0"})})})]})},Le=function(){return(0,e.jsxs)(M.Z,{children:[(0,e.jsx)(C.Z,{xs:24,sm:12}),(0,e.jsx)(C.Z,{xs:24,sm:12,className:R.tableToolbar,children:(0,e.jsx)(ee.Z,{onChange:De,total:r.total,current:r.current,size:r.size})})]})};return(0,e.jsxs)(w._z,{children:[(0,e.jsxs)(E.Z,{children:[Re(),(0,e.jsx)(te.Z,{dataSource:j,columns:Me,pagination:!1,rowKey:"id",loading:I}),Le()]}),(0,e.jsx)(oe,{title:ve,modalVisible:me,hideModal:Be,modalContent:he,footer:xe,modalWidth:Ie})]})},ce=de}}]);
